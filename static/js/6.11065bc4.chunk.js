(this["webpackJsonptomb.finance"]=this["webpackJsonptomb.finance"]||[]).push([[6],{773:function(e,t,n){"use strict";var a=n(0),r=n(774),c=n(114);t.a=function(){var e=Object(r.b)(),t=Object(c.b)();return Object(a.useCallback)((function(n,a){n.then((function(t){return e(t,{summary:a})})).catch((function(e){if(!e.message.includes("User denied")){var n="Unable to ".concat(a[0].toLowerCase()).concat(a.slice(1));console.error("".concat(n,": ").concat(e.message||e.stack)),t({error:{message:n,stack:e.message||e.stack}})}}))}),[t,e])}},774:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var a=n(0),r=n(54),c=n(404),l=n(100);function o(){var e=Object(c.h)(),t=e.chainId,n=e.account,o=Object(r.b)();return Object(a.useCallback)((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.summary,c=a.approval;if(n&&t){var i=e.hash;if(!i)throw Error("No transaction hash found.");o(Object(l.a)({hash:i,from:n,chainId:t,approval:c,summary:r}))}}),[o,t,n])}function i(){var e,t=Object(c.h)().chainId,n=Object(r.c)((function(e){return e.transactions}));return t&&null!==(e=n[t])&&void 0!==e?e:{}}function u(e,t){var n=i();return Object(a.useMemo)((function(){return"string"===typeof e&&"string"===typeof t&&Object.keys(n).some((function(a){var r=n[a];if(!r)return!1;if(r.receipt)return!1;var c=r.approval;return!!c&&(c.spender===t&&c.tokenAddress===e&&function(e){return(new Date).getTime()-e.addedTime<864e5}(r))}))}),[n,t,e])}},775:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a,r,c,l,o,i,u=n(25),s=n(0),m=n.n(s),f=n(21),d=n(754),b=f.d.div(a||(a=Object(u.a)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: ","px;\n  display: flex;\n  padding: 0 ","px;\n"])),(function(e){return e.theme.color.grey[200]}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.spacing[3]})),p=f.d.input(r||(r=Object(u.a)(["\n  background: none;\n  border: 0;\n  color: ",";\n  font-size: 18px;\n  flex: 1;\n  height: 56px;\n  margin: 0;\n  padding: 0;\n  outline: none;\n"])),(function(e){return e.theme.color.grey[600]})),v=function(e){var t=e.endAdornment,n=e.onChange,a=e.placeholder,r=e.startAdornment,c=e.value;return m.a.createElement(b,null,!!r&&r,m.a.createElement(p,{placeholder:a,value:c,onChange:n}),!!t&&t)},h=f.d.div(c||(c=Object(u.a)([""]))),O=f.d.div(l||(l=Object(u.a)(["\n  width: ","px;\n"])),(function(e){return e.theme.spacing[3]})),j=f.d.div(o||(o=Object(u.a)(["\n  align-items: center;\n  display: flex;\n"]))),E=f.d.div(i||(i=Object(u.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  font-size: 14px;\n  font-weight: 700;\n  height: 44px;\n  justify-content: flex-end;\n"])),(function(e){return e.theme.color.grey[400]})),g=function(e){var t=e.max,n=e.symbol,a=e.onChange,r=e.onSelectMax,c=e.value;return m.a.createElement(h,null,m.a.createElement(E,null,t.toLocaleString()," ",n," Available"),m.a.createElement(v,{endAdornment:m.a.createElement(j,null,m.a.createElement(O,null),m.a.createElement("div",null,m.a.createElement(d.a,{size:"small",color:"primary",variant:"contained",onClick:r},"Max"))),onChange:a,placeholder:"0",value:c}))}},776:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,r,c,l=n(25),o=n(0),i=n.n(o),u=n(21),s=u.d.div(a||(a=Object(l.a)(["\n  align-items: center;\n  background-color: ","00;\n  display: flex;\n  height: 96px;\n  margin: ","px ","px\n    ","px;\n  padding: 0 ","px;\n"])),(function(e){return e.theme.color.grey[100]}),(function(e){return e.theme.spacing[4]}),(function(e){return-e.theme.spacing[4]}),(function(e){return-e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),m=u.d.div(r||(r=Object(l.a)(["\n  flex: 1;\n"]))),f=u.d.div(c||(c=Object(l.a)(["\n  width: ","px;\n"])),(function(e){return e.theme.spacing[4]})),d=function(e){var t=e.children,n=i.a.Children.toArray(t).length;return i.a.createElement(s,null,i.a.Children.map(t,(function(e,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(m,null,e),t<n-1&&i.a.createElement(f,null))})))}},777:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(12),l=n(22),o=n(0),i=n(404);t.a=function(e,t,n){var a=Object(o.useState)(null),u=Object(l.a)(a,2),s=u[0],m=u[1],f=Object(i.h)().account,d=Object(o.useCallback)(Object(c.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.allowance(f,t);case 2:a=n.sent,m(a);case 4:case"end":return n.stop()}}),n)}))),[f,t,e]);return Object(o.useEffect)((function(){f&&t&&e&&d().catch((function(e){return console.log("Failed to fetch allowance: ".concat(e.stack))}))}),[f,t,e,n,d]),s}},779:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n.n(a),c=n(767),l=n(212),o=function(){return r.a.createElement(c.a,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(l.a,null))}},780:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(12),l=n(22),o=n(0),i=n(92),u=n(39);t.a=function(){var e=Object(o.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(i.a)(),m=Object(o.useCallback)(Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,s.getDanteStat();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[s]);return Object(o.useEffect)((function(){m().catch((function(e){return console.error("Failed to fetch TOMB price: ".concat(e.stack))}));var e=setInterval(m,u.b.refreshInterval);return function(){return clearInterval(e)}}),[a,s,m]),n}},782:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n(2),c=n.n(r),l=n(12),o=n(94),i=n(28),u=n(0),s=n(774),m=n(777),f=o.ethers.constants.MaxUint256,d=i.a.from("1000000000000000000000000");!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_APPROVED=1]="NOT_APPROVED",e[e.PENDING=2]="PENDING",e[e.APPROVED=3]="APPROVED"}(a||(a={})),t.b=function(e,t){var n=Object(s.a)(e.address,t),r=Object(m.a)(e,t,n),o=Object(u.useMemo)((function(){return r?r.lt(d)?n?a.PENDING:a.NOT_APPROVED:a.APPROVED:a.UNKNOWN}),[r,n]),i=Object(s.b)(),b=Object(u.useCallback)(Object(l.a)(c.a.mark((function n(){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o===a.NOT_APPROVED){n.next=3;break}return console.error("approve was called unnecessarily"),n.abrupt("return");case 3:return n.next=5,e.approve(t,f);case 5:r=n.sent,i(r,{summary:"Approve ".concat(e.symbol),approval:{tokenAddress:e.address,spender:t}});case 7:case"end":return n.stop()}}),n)}))),[o,e,t,i]);return[o,b]}},784:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,r=n(25),c=n(0),l=n.n(c),o=n(21),i=o.d.div(a||(a=Object(r.a)(["\n  height: ","px;\n  width: ","px;\n"])),(function(e){return e.size}),(function(e){return e.size})),u=function(e){var t,n=e.size,a=void 0===n?"md":n,r=Object(c.useContext)(o.a).spacing;switch(a){case"lg":t=r[6];break;case"sm":t=r[2];break;case"md":default:t=r[4]}return l.a.createElement(i,{size:t})}},785:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a,r=n(25),c=n(0),l=n.n(c),o=n(21).d.div(a||(a=Object(r.a)(["\n  font-size: 36px;\n  font-weight: 700;\n"]))),i=function(e){var t=e.value;return l.a.createElement(o,null,t)}},793:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(12),l=n(22),o=n(0),i=n(92),u=n(39);t.a=function(e,t){var n=Object(o.useState)("0"),a=Object(l.a)(n,2),s=a[0],m=a[1],f=Object(i.a)(),d=null===f||void 0===f?void 0:f.isUnlocked,b=Object(o.useCallback)(Object(c.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.getDepositTokenPriceInDollars(e,t);case 2:a=n.sent,m(a);case 4:case"end":return n.stop()}}),n)}))),[t,e,f]);return Object(o.useEffect)((function(){if(d){b().catch((function(e){return console.error(e.stack)}));var e=setInterval(b,u.b.refreshInterval);return function(){return clearInterval(e)}}}),[d,m,f,b]),s}},795:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var a,r=n(0),c=n.n(r),l=n(21),o=n(25),i=l.d.div(a||(a=Object(o.a)([""]))),u=function(e){var t=e.children;return c.a.createElement(i,null,t)},s=function(e){var t=e.color,n=Object(r.useContext)(l.a).color;return c.a.createElement(u,null,c.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:t||n.grey[400]})))},m=function(e){var t=e.color,n=Object(r.useContext)(l.a).color;return c.a.createElement(u,null,c.a.createElement("svg",{viewBox:"0 0 24 24",fill:t||n.grey[400],width:"18px",height:"18px"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M19 13H5v-2h14v2z"})))}},798:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a,r,c=n(25),l=n(0),o=n.n(l),i=n(21),u=n(69),s=i.d.button(a||(a=Object(c.a)(["\n  align-items: center;\n  // background-color: ",";\n  background-color: ",";\n  border: 0;\n  border-radius: 28px;\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-weight: 700;\n  height: 56px;\n  justify-content: center;\n  letter-spacing: 1px;\n  outline: none;\n  padding: 0;\n  margin: 0;\n  pointer-events: ",";\n  text-transform: uppercase;\n  width: 56px;\n  &:hover {\n    // background-color: ",";\n    background-color: #2c2560;\n  }\n"])),(function(e){return e.theme.color.grey[e.disabled?900:700]}),(function(e){return e.disabled?e.theme.color.grey[900]:"#571eb1"}),(function(e){return e.disabled?e.theme.color.grey[500]:e.theme.color.primary.main}),(function(e){return e.disabled?"none":void 0}),(function(e){return e.theme.color.grey[800]})),m=Object(i.d)(u.b)(r||(r=Object(c.a)(["\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ","px;\n  padding: 0 ","px;\n  text-decoration: none;\n"])),(function(e){return-e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),f=function(e){var t=e.children,n=e.disabled,a=e.onClick,r=e.to;return o.a.createElement(s,{disabled:n,onClick:a},r?o.a.createElement(m,{to:r},t):t)}},819:function(e,t,n){e.exports=n.p+"static/media/masonry.042cb5a6.png"},835:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _e}));var a,r,c,l,o,i,u,s,m,f,d,b,p,v,h,O=n(56),j=n(25),E=n(0),g=n.n(E),x=n(404),k=n(249),y=n.n(k),w=n(21),C=n(784),I=n(767),N=n(801),S=n(815),A=n(754),T=n(161),D=n(164),R=n(163),M=n(785),P=n(22),F=n(92),U=function(){var e=Object(E.useState)({from:new Date,to:new Date}),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(F.a)();return Object(E.useEffect)((function(){r&&r.getUserClaimRewardTime().then(a)}),[r]),n},z=n(2),W=n.n(z),B=n(12),G=n(39),H=function(){var e=Object(E.useState)(!1),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(F.a)(),c=null===r||void 0===r?void 0:r.isUnlocked,l=Object(E.useCallback)(Object(B.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,r.canUserClaimRewardFromMasonry();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[r]);return Object(E.useEffect)((function(){if(c){l().catch((function(e){return console.error(e.stack)}));var e=setInterval(l,G.b.refreshInterval);return function(){return clearInterval(e)}}}),[c,l,r]),n},L=n(818),V=w.d.p(a||(a=Object(j.a)(["\n  // font-size: 14px;\n  font-weight: 700;\n  // color: ",";\n  margin: 0 0 6px 0;\n"])),(function(e){return e.theme.color.grey[100]})),_=w.d.div(r||(r=Object(j.a)(["\n  width: 100%;\n  height: 8px;\n  border-radius: 3px;\n  background: ",";\n"])),(function(e){return e.theme.color.grey[700]})),K=w.d.div(c||(c=Object(j.a)(["\n  width: ","%;\n  height: 100%;\n  border-radius: 3px;\n  background: ",";\n"])),(function(e){return e.progress}),(function(e){return e.theme.color.grey[100]})),q=w.d.div(l||(l=Object(j.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  // padding: ","px ","px;\n"])),(function(e){return e.theme.spacing[2]}),(function(e){return e.theme.spacing[4]})),J=function(e){var t=e.base,n=e.deadline,a=e.hideBar,r=(e.description,Date.now()>=n.getTime()?100:(Date.now()-t.getTime())/(n.getTime()-t.getTime())*100);return g.a.createElement(q,null,g.a.createElement(L.a,{key:(new Date).getTime(),date:n,renderer:function(e){var t=e.days,n=e.hours,a=e.minutes,r=e.seconds,c=String(24*t+n),l=String(a),o=String(r);return g.a.createElement(V,null,c.padStart(2,"0"),":",l.padStart(2,"0"),":",o.padStart(2,"0"))}}),a?"":g.a.createElement(_,null,g.a.createElement(K,{progress:r})))},$=n(773),Q=function(){var e=Object(F.a)(),t=Object($.a)();return{onReward:Object(E.useCallback)((function(){t(e.harvestCashFromMasonry(),"Claim TOMB from Masonry")}),[e,t])}},X=n(28),Y=function(){var e=Object(E.useState)(X.a.from(0)),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(F.a)(),c=null===r||void 0===r?void 0:r.isUnlocked,l=Object(E.useCallback)(Object(B.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,r.getEarningsOnMasonry();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[r]);return Object(E.useEffect)((function(){if(c){l().catch((function(e){return console.error(e.stack)}));var e=setInterval(l,G.b.refreshInterval);return function(){return clearInterval(e)}}}),[c,a,l,r]),n},Z=n(780),ee=n(30),te=w.d.div(o||(o=Object(j.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n"]))),ne=w.d.div(i||(i=Object(j.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n  width: 100%;\n"])),(function(e){return e.theme.spacing[6]})),ae=w.d.div(u||(u=Object(j.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),re=function(){var e=Object(Z.a)(),t=Q().onReward,n=Y(),a=H(),r=Object(E.useMemo)((function(){return e?Number(e.priceInDollars).toFixed(2):null}),[e]),c=(Number(r)*Number(Object(ee.b)(n))).toFixed(2),l=U(),o=l.from,i=l.to;return g.a.createElement(I.a,null,g.a.createElement(N.a,null,g.a.createElement(S.a,null,g.a.createElement(ae,null,g.a.createElement(te,null,g.a.createElement(D.a,{symbol:"DANTE"}),g.a.createElement(M.a,{value:Object(ee.b)(n)}),g.a.createElement(R.a,{text:"\u2248 $".concat(c)}),g.a.createElement(R.a,{text:"DANTE Earned"})),g.a.createElement(ne,null,g.a.createElement(A.a,{onClick:t,color:"primary",variant:"contained",disabled:n.eq(0)||!a},"Claim Reward"))))),g.a.createElement(I.a,{mt:2,style:{color:"#FFF"}},a?"":g.a.createElement(N.a,null,g.a.createElement(S.a,null,g.a.createElement(T.a,{style:{textAlign:"center"}},"Claim possible in"),g.a.createElement(J,{hideBar:!0,base:o,deadline:i,description:"Claim available in"})))))},ce=n(795),le=n(798),oe=n(782),ie=n(259),ue=n(166),se=function(){var e=Object(E.useState)(!1),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(F.a)(),c=null===r||void 0===r?void 0:r.isUnlocked,l=Object(E.useCallback)(Object(B.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,r.canUserUnstakeFromMasonry();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[r]);return Object(E.useEffect)((function(){if(c){l().catch((function(e){return console.error(e.stack)}));var e=setInterval(l,G.b.refreshInterval);return function(){return clearInterval(e)}}}),[c,l,r]),n},me=n(257),fe=n(776),de=n(258),be=n(775),pe=function(e){var t=e.max,n=e.onConfirm,a=(e.onDismiss,e.tokenName),r=void 0===a?"":a,c=Object(E.useState)(""),l=Object(P.a)(c,2),o=l[0],i=l[1],u=Object(E.useMemo)((function(){return Object(ee.c)(t,"USDC"===r?6:18)}),[t,r]),s=Object(E.useCallback)((function(e){i(e.currentTarget.value)}),[i]),m=Object(E.useCallback)((function(){i(u)}),[u,i]);return g.a.createElement(me.a,null,g.a.createElement(de.a,{text:"Deposit ".concat(r)}),g.a.createElement(be.a,{value:o,onSelectMax:m,onChange:s,max:u,symbol:r}),g.a.createElement(fe.a,null,g.a.createElement(A.a,{color:"primary",variant:"contained",onClick:function(){return n(o)}},"Confirm")))},ve=function(e){var t=e.onConfirm,n=(e.onDismiss,e.max),a=e.tokenName,r=void 0===a?"":a,c=Object(E.useState)(""),l=Object(P.a)(c,2),o=l[0],i=l[1],u=Object(E.useMemo)((function(){return Object(ee.c)(n)}),[n]),s=Object(E.useCallback)((function(e){i(e.currentTarget.value)}),[i]),m=Object(E.useCallback)((function(){i(u)}),[u,i]);return g.a.createElement(me.a,null,g.a.createElement(de.a,{text:"Withdraw ".concat(r)}),g.a.createElement(be.a,{onSelectMax:m,onChange:s,value:o,max:u,symbol:r}),g.a.createElement(fe.a,null,g.a.createElement(A.a,{color:"primary",variant:"contained",onClick:function(){return t(o)}},"Confirm")))},he=function(){var e=Object(E.useState)(X.a.from(0)),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(F.a)(),c=null===r||void 0===r?void 0:r.isUnlocked,l=Object(E.useCallback)(Object(B.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,r.getStakedSharesOnMasonry();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[r]);return Object(E.useEffect)((function(){if(c){l().catch((function(e){return console.error(e.stack)}));var e=setInterval(l,G.b.refreshInterval);return function(){return clearInterval(e)}}}),[a,c,r,l]),n},Oe=n(793),je=function(){var e=Object(E.useState)({from:new Date,to:new Date}),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(F.a)();return Object(E.useEffect)((function(){r&&r.getUserUnstakeTime().then(a)}),[r]),n},Ee=function(){var e=Object(F.a)(),t=Object($.a)();return{onStake:Object(E.useCallback)((function(n){t(e.stakeShareToMasonry(n),"Stake ".concat(n," TSHARE to the masonry"))}),[e,t])}},ge=function(){var e=Object(F.a)(),t=Object($.a)();return{onWithdraw:Object(E.useCallback)((function(n){t(e.withdrawShareFromMasonry(n),"Withdraw ".concat(n," TSHARE from the masonry"))}),[e,t])}},xe=w.d.div(s||(s=Object(j.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n"]))),ke=w.d.div(m||(m=Object(j.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 28px;\n  width: 100%;\n"]))),ye=w.d.div(f||(f=Object(j.a)(["\n  height: ","px;\n  width: ","px;\n"])),(function(e){return e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),we=w.d.div(d||(d=Object(j.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Ce=function(){var e=Object(F.a)(),t=Object(oe.b)(e.TSHARE,e.contracts.Masonry.address),n=Object(P.a)(t,2),a=n[0],r=n[1],c=Object(ue.a)(e.TSHARE),l=he(),o=je(),i=o.from,u=o.to,s=Object(Oe.a)("GRAIL",e.TSHARE),m=Object(E.useMemo)((function(){return s?(Number(s)*Number(Object(ee.b)(l))).toFixed(2).toString():null}),[s,l]),f=Ee().onStake,d=ge().onWithdraw,b=se(),p=Object(ie.a)(g.a.createElement(pe,{max:c,onConfirm:function(e){f(e),O()},tokenName:"GRAIL"})),v=Object(P.a)(p,2),h=v[0],O=v[1],j=Object(ie.a)(g.a.createElement(ve,{max:l,onConfirm:function(e){d(e),y()},tokenName:"GRAIL"})),x=Object(P.a)(j,2),k=x[0],y=x[1];return g.a.createElement(I.a,null,g.a.createElement(N.a,null,g.a.createElement(S.a,null,g.a.createElement(we,null,g.a.createElement(xe,null,g.a.createElement(D.a,{symbol:"GRAIL"}),g.a.createElement(M.a,{value:Object(ee.b)(l)}),g.a.createElement(R.a,{text:"\u2248 $".concat(m)}),g.a.createElement(R.a,{text:"GRAIL Staked"})),g.a.createElement(ke,null,a!==oe.a.APPROVED?g.a.createElement(A.a,{disabled:a!==oe.a.NOT_APPROVED,variant:"contained",color:"primary",style:{marginTop:"20px"},onClick:r},"Approve GRAIL"):g.a.createElement(g.a.Fragment,null,g.a.createElement(le.a,{disabled:!b,onClick:k},g.a.createElement(ce.b,null)),g.a.createElement(ye,null),g.a.createElement(le.a,{onClick:h},g.a.createElement(ce.a,null))))))),g.a.createElement(I.a,{mt:2,style:{color:"#FFF"}},b?"":g.a.createElement(N.a,null,g.a.createElement(S.a,null,g.a.createElement(T.a,{style:{textAlign:"center"}},"Withdraw possible in"),g.a.createElement(J,{hideBar:!0,base:i,deadline:u,description:"Withdraw available in"})))))},Ie=n(746),Ne=n(748),Se=n(823),Ae=n(779),Te=n(260),De=function(e){var t=Object(F.a)(),n=Object($.a)();return{onRedeem:Object(E.useCallback)((function(){var a=e||"Redeem TSHARE from Masonry";n(t.exitFromMasonry(),a)}),[t,e,n])}},Re=function(){var e=Object(E.useState)(X.a.from(0)),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(F.a)(),c=Object(E.useCallback)(Object(B.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,r.getCurrentEpoch();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[r]);return Object(E.useEffect)((function(){c().catch((function(e){return console.error("Failed to fetch TOMB price: ".concat(e.stack))}));var e=setInterval(c,G.b.refreshInterval);return function(){return clearInterval(e)}}),[a,r,c]),n},Me=function(){var e=Object(E.useState)(0),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(F.a)(),c=Object(E.useCallback)(Object(B.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,r.getMasonryAPR();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[r]);return Object(E.useEffect)((function(){c().catch((function(e){return console.error("Failed to fetch masonry apr: ".concat(e.stack))}));var e=setInterval(c,G.b.refreshInterval);return function(){return clearInterval(e)}}),[a,r,c]),n},Pe=function(){var e=Object(E.useState)(),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(F.a)(),c=Object(E.useCallback)(Object(B.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,r.getTombStatInEstimatedTWAP();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[r]);return Object(E.useEffect)((function(){c().catch((function(e){return console.error("Failed to fetch TOMB price: ".concat(e.stack))}));var e=setInterval(c,G.b.refreshInterval);return function(){return clearInterval(e)}}),[a,r,c]),n},Fe=function(){var e=Object(E.useState)({from:new Date,to:new Date}),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(F.a)();return Object(E.useEffect)((function(){r&&r.getTreasuryNextAllocationTime().then(a)}),[r]),n},Ue=function(){var e=Object(E.useState)(X.a.from(0)),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(F.a)(),c=null===r||void 0===r?void 0:r.isUnlocked,l=Object(E.useCallback)(Object(B.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,r.getTotalStakedInMasonry();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[r]);return Object(E.useEffect)((function(){if(c){l().catch((function(e){return console.error(e.stack)}));var e=setInterval(l,G.b.refreshInterval);return function(){return clearInterval(e)}}}),[c,l,r]),n},ze=n(819),We=n.n(ze),Be=Object(w.c)(b||(b=Object(j.a)(["\n  body, html {\n    background: url(",") no-repeat !important;\n    background-size: cover !important;\n  }\n"])),We.a),Ge=Object(Ie.a)((function(e){return{gridItem:Object(O.a)({height:"100%"},e.breakpoints.up("md"),{height:"90px"})}})),He=w.d.div(p||(p=Object(j.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),Le=w.d.div(v||(v=Object(j.a)(["\n  display: flex;\n  width: 600px;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n"]))),Ve=w.d.div(h||(h=Object(j.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n"]))),_e=function(){var e=Ge(),t=Object(x.h)().account,n=De().onRedeem,a=he(),r=Re(),c=Pe(),l=Ue(),o=Me(),i=H(),u=se(),s=Object(E.useMemo)((function(){return c?Number(c.priceInDollars).toFixed(4):null}),[c]),m=Fe().to;return g.a.createElement(Te.a,null,g.a.createElement(Be,null),t?g.a.createElement(g.a.Fragment,null,g.a.createElement(T.a,{color:"textPrimary",align:"center",variant:"h3",gutterBottom:!0},"Eden"),g.a.createElement(I.a,{mt:5},g.a.createElement(Ne.a,{container:!0,justify:"center",spacing:3},g.a.createElement(Ne.a,{item:!0,xs:12,md:2,lg:2,className:e.gridItem},g.a.createElement(N.a,{className:e.gridItem},g.a.createElement(S.a,null,g.a.createElement(T.a,{style:{textAlign:"center"}},"Next Epoch"),g.a.createElement(J,{base:y()().toDate(),hideBar:!0,deadline:m,description:"Next Epoch"})))),g.a.createElement(Ne.a,{item:!0,xs:12,md:2,lg:2,className:e.gridItem},g.a.createElement(N.a,{className:e.gridItem},g.a.createElement(S.a,{align:"center"},g.a.createElement(T.a,null,"Current Epoch"),g.a.createElement(T.a,null,Number(r))))),g.a.createElement(Ne.a,{item:!0,xs:12,md:2,lg:2,className:e.gridItem},g.a.createElement(N.a,{className:e.gridItem},g.a.createElement(S.a,{align:"center"},g.a.createElement(T.a,null,"DANTE Price",g.a.createElement("small",null,"(TWAP)")),g.a.createElement(T.a,null,s)))),g.a.createElement(Ne.a,{item:!0,xs:12,md:2,lg:2,className:e.gridItem},g.a.createElement(N.a,{className:e.gridItem},g.a.createElement(S.a,{align:"center"},g.a.createElement(T.a,null,"APR"),g.a.createElement(T.a,null,o.toFixed(2),"%")))),g.a.createElement(Ne.a,{item:!0,xs:12,md:2,lg:2},g.a.createElement(N.a,{className:e.gridItem},g.a.createElement(S.a,{align:"center"},g.a.createElement(T.a,null,"GRAILs Staked"),g.a.createElement(T.a,null,Object(ee.b)(l)))))),g.a.createElement(Ne.a,{container:!0,justify:"center"},g.a.createElement(I.a,{mt:3,style:{width:"600px"}},g.a.createElement(Se.a,{variant:"filled",severity:"warning"},"Staked GRAILs can only be withdrawn after 6 epochs since deposit."))),g.a.createElement(I.a,{mt:4},g.a.createElement(He,null,g.a.createElement(Le,null,g.a.createElement(Ve,null,g.a.createElement(re,null)),g.a.createElement(C.a,null),g.a.createElement(Ve,null,g.a.createElement(Ce,null)))))),g.a.createElement(I.a,{mt:5},g.a.createElement(Ne.a,{container:!0,justify:"center",spacing:3,mt:10},g.a.createElement(A.a,{disabled:a.eq(0)||!u&&!i,onClick:n,color:"primary",variant:"contained"},"Claim and Withdraw")))):g.a.createElement(Ae.a,null))}}}]);
//# sourceMappingURL=6.11065bc4.chunk.js.map