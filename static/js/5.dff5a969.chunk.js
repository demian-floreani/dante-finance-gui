(this["webpackJsonptomb.finance"]=this["webpackJsonptomb.finance"]||[]).push([[5],{773:function(e,t,n){"use strict";var a=n(0),r=n(774),c=n(114);t.a=function(){var e=Object(r.b)(),t=Object(c.b)();return Object(a.useCallback)((function(n,a){n.then((function(t){return e(t,{summary:a})})).catch((function(e){if(!e.message.includes("User denied")){var n="Unable to ".concat(a[0].toLowerCase()).concat(a.slice(1));console.error("".concat(n,": ").concat(e.message||e.stack)),t({error:{message:n,stack:e.message||e.stack}})}}))}),[t,e])}},774:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(0),r=n(54),c=n(405),o=n(100);function l(){var e=Object(c.h)(),t=e.chainId,n=e.account,l=Object(r.b)();return Object(a.useCallback)((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.summary,c=a.approval;if(n&&t){var i=e.hash;if(!i)throw Error("No transaction hash found.");l(Object(o.a)({hash:i,from:n,chainId:t,approval:c,summary:r}))}}),[l,t,n])}function i(){var e,t=Object(c.h)().chainId,n=Object(r.c)((function(e){return e.transactions}));return t&&null!==(e=n[t])&&void 0!==e?e:{}}function u(e,t){var n=i();return Object(a.useMemo)((function(){return"string"===typeof e&&"string"===typeof t&&Object.keys(n).some((function(a){var r=n[a];if(!r)return!1;if(r.receipt)return!1;var c=r.approval;return!!c&&(c.spender===t&&c.tokenAddress===e&&function(e){return(new Date).getTime()-e.addedTime<864e5}(r))}))}),[n,t,e])}},775:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a,r,c,o,l,i,u=n(25),s=n(0),m=n.n(s),d=n(21),f=n(754),b=d.d.div(a||(a=Object(u.a)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: ","px;\n  display: flex;\n  padding: 0 ","px;\n"])),(function(e){return e.theme.color.grey[200]}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.spacing[3]})),p=d.d.input(r||(r=Object(u.a)(["\n  background: none;\n  border: 0;\n  color: ",";\n  font-size: 18px;\n  flex: 1;\n  height: 56px;\n  margin: 0;\n  padding: 0;\n  outline: none;\n"])),(function(e){return e.theme.color.grey[600]})),v=function(e){var t=e.endAdornment,n=e.onChange,a=e.placeholder,r=e.startAdornment,c=e.value;return m.a.createElement(b,null,!!r&&r,m.a.createElement(p,{placeholder:a,value:c,onChange:n}),!!t&&t)},g=d.d.div(c||(c=Object(u.a)([""]))),O=d.d.div(o||(o=Object(u.a)(["\n  width: ","px;\n"])),(function(e){return e.theme.spacing[3]})),E=d.d.div(l||(l=Object(u.a)(["\n  align-items: center;\n  display: flex;\n"]))),h=d.d.div(i||(i=Object(u.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  font-size: 14px;\n  font-weight: 700;\n  height: 44px;\n  justify-content: flex-end;\n"])),(function(e){return e.theme.color.grey[400]})),j=function(e){var t=e.max,n=e.symbol,a=e.onChange,r=e.onSelectMax,c=e.value;return m.a.createElement(g,null,m.a.createElement(h,null,t.toLocaleString()," ",n," Available"),m.a.createElement(v,{endAdornment:m.a.createElement(E,null,m.a.createElement(O,null),m.a.createElement("div",null,m.a.createElement(f.a,{size:"small",color:"primary",variant:"contained",onClick:r},"Max"))),onChange:a,placeholder:"0",value:c}))}},776:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a,r,c,o=n(25),l=n(0),i=n.n(l),u=n(21),s=u.d.div(a||(a=Object(o.a)(["\n  align-items: center;\n  background-color: ","00;\n  display: flex;\n  height: 96px;\n  margin: ","px ","px\n    ","px;\n  padding: 0 ","px;\n"])),(function(e){return e.theme.color.grey[100]}),(function(e){return e.theme.spacing[4]}),(function(e){return-e.theme.spacing[4]}),(function(e){return-e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),m=u.d.div(r||(r=Object(o.a)(["\n  flex: 1;\n"]))),d=u.d.div(c||(c=Object(o.a)(["\n  width: ","px;\n"])),(function(e){return e.theme.spacing[4]})),f=function(e){var t=e.children,n=i.a.Children.toArray(t).length;return i.a.createElement(s,null,i.a.Children.map(t,(function(e,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(m,null,e),t<n-1&&i.a.createElement(d,null))})))}},777:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(12),o=n(22),l=n(0),i=n(405);t.a=function(e,t,n){var a=Object(l.useState)(null),u=Object(o.a)(a,2),s=u[0],m=u[1],d=Object(i.h)().account,f=Object(l.useCallback)(Object(c.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.allowance(d,t);case 2:a=n.sent,m(a);case 4:case"end":return n.stop()}}),n)}))),[d,t,e]);return Object(l.useEffect)((function(){d&&t&&e&&f().catch((function(e){return console.log("Failed to fetch allowance: ".concat(e.stack))}))}),[d,t,e,n,f]),s}},779:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n.n(a),c=n(767),o=n(212),l=function(){return r.a.createElement(c.a,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(o.a,null))}},780:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(12),o=n(22),l=n(0),i=n(92),u=n(39);t.a=function(){var e=Object(l.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(i.a)(),m=Object(l.useCallback)(Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,s.getDanteStat();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[s]);return Object(l.useEffect)((function(){m().catch((function(e){return console.error("Failed to fetch TOMB price: ".concat(e.stack))}));var e=setInterval(m,u.b.refreshInterval);return function(){return clearInterval(e)}}),[a,s,m]),n}},782:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n(2),c=n.n(r),o=n(12),l=n(94),i=n(28),u=n(0),s=n(774),m=n(777),d=l.ethers.constants.MaxUint256,f=i.a.from("1000000000000000000000000");!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_APPROVED=1]="NOT_APPROVED",e[e.PENDING=2]="PENDING",e[e.APPROVED=3]="APPROVED"}(a||(a={})),t.b=function(e,t){var n=Object(s.a)(e.address,t),r=Object(m.a)(e,t,n),l=Object(u.useMemo)((function(){return r?r.lt(f)?n?a.PENDING:a.NOT_APPROVED:a.APPROVED:a.UNKNOWN}),[r,n]),i=Object(s.b)(),b=Object(u.useCallback)(Object(o.a)(c.a.mark((function n(){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l===a.NOT_APPROVED){n.next=3;break}return console.error("approve was called unnecessarily"),n.abrupt("return");case 3:return n.next=5,e.approve(t,d);case 5:r=n.sent,i(r,{summary:"Approve ".concat(e.symbol),approval:{tokenAddress:e.address,spender:t}});case 7:case"end":return n.stop()}}),n)}))),[l,e,t,i]);return[l,b]}},784:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,r=n(25),c=n(0),o=n.n(c),l=n(21),i=l.d.div(a||(a=Object(r.a)(["\n  height: ","px;\n  width: ","px;\n"])),(function(e){return e.size}),(function(e){return e.size})),u=function(e){var t,n=e.size,a=void 0===n?"md":n,r=Object(c.useContext)(l.a).spacing;switch(a){case"lg":t=r[6];break;case"sm":t=r[2];break;case"md":default:t=r[4]}return o.a.createElement(i,{size:t})}},786:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(12),o=n(22),l=n(0),i=n(92),u=n(39);t.a=function(e){var t=Object(l.useState)(),n=Object(o.a)(t,2),a=n[0],s=n[1],m=Object(i.a)(),d=Object(l.useCallback)(Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=s,t.next=3,m.getLPStat(e);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)}))),[m,e]);return Object(l.useEffect)((function(){d().catch((function(e){return console.error("Failed to fetch TOMB price: ".concat(e.stack))}));var e=setInterval(d,u.b.refreshInterval);return function(){return clearInterval(e)}}),[s,m,d]),a}},789:function(e,t,n){"use strict";var a=n(0),r=n(92),c=n(773);t.a=function(e){var t=Object(r.a)(),n=Object(c.a)();return{onZap:Object(a.useCallback)((function(a,r,c){n(t.zapIn(a,r,c),"Zap ".concat(c," in ").concat(e.depositTokenName,"."))}),[e,t,n])}}},791:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(12),o=n(22),l=n(0),i=n(92),u=n(39);t.a=function(){var e=Object(l.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(i.a)(),m=Object(l.useCallback)(Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,s.getShareStat();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[s]);return Object(l.useEffect)((function(){m().catch((function(e){return console.error("Failed to fetch TSHARE price: ".concat(e.stack))}));var e=setInterval(m,u.b.refreshInterval);return function(){return clearInterval(e)}}),[a,s,m]),n}},792:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(12),o=n(22),l=n(0),i=n(92),u=n(39);t.a=function(e,t){var n=Object(l.useState)("0"),a=Object(o.a)(n,2),s=a[0],m=a[1],d=Object(i.a)(),f=null===d||void 0===d?void 0:d.isUnlocked,b=Object(l.useCallback)(Object(c.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.getDepositTokenPriceInDollars(e,t);case 2:a=n.sent,m(a);case 4:case"end":return n.stop()}}),n)}))),[t,e,d]);return Object(l.useEffect)((function(){if(f){b().catch((function(e){return console.error(e.stack)}));var e=setInterval(b,u.b.refreshInterval);return function(){return clearInterval(e)}}}),[f,m,d,b]),s}},794:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var a,r=n(0),c=n.n(r),o=n(21),l=n(25),i=o.d.div(a||(a=Object(l.a)([""]))),u=function(e){var t=e.children;return c.a.createElement(i,null,t)},s=function(e){var t=e.color,n=Object(r.useContext)(o.a).color;return c.a.createElement(u,null,c.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:t||n.grey[400]})))},m=function(e){var t=e.color,n=Object(r.useContext)(o.a).color;return c.a.createElement(u,null,c.a.createElement("svg",{viewBox:"0 0 24 24",fill:t||n.grey[400],width:"18px",height:"18px"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M19 13H5v-2h14v2z"})))}},795:function(e,t,n){"use strict";var a,r=n(25),c=n(2),o=n.n(c),l=n(12),i=n(22),u=n(0),s=n.n(u),m=n(161),d=n(838),f=n(835),b=n(754),p=n(19),v=n(832),g=n(257),O=n(776),E=n(258),h=n(775),j=n(21),x=n(30),k=n(185),y=n(786),N=n(165),w=n(92),T=n(405),C=n(94),I=n(28),P=n(774),S=n(777),A=n(89),F=C.ethers.constants.MaxUint256,D=I.a.from("1000000000000000000000000");!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_APPROVED=1]="NOT_APPROVED",e[e.PENDING=2]="PENDING",e[e.APPROVED=3]="APPROVED"}(a||(a={}));var R,M,z=function(e){var t,n=Object(w.a)();e===A.a?t=n.FTM:e===A.c?t=n.DANTE:e===A.d&&(t=n.TSHARE);var r=Object(P.a)(t.address,A.e),c=Object(S.a)(t,A.e,r),i=Object(u.useMemo)((function(){return t===n.FTM?a.APPROVED:c?c.lt(D)?r?a.PENDING:a.NOT_APPROVED:a.APPROVED:a.UNKNOWN}),[c,r,t,n]),s=Object(P.b)(),m=Object(u.useCallback)(Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i===a.NOT_APPROVED){e.next=3;break}return console.error("approve was called unnecessarily"),e.abrupt("return");case 3:return e.next=5,t.approve(A.e,F);case 5:n=e.sent,s(n,{summary:"Approve ".concat(t.symbol),approval:{tokenAddress:t.address,spender:A.e}});case 7:case"end":return e.stop()}}),e)}))),[i,t,s]);return[i,m]},U=n(821),V=j.d.div(R||(R=Object(r.a)(["\n  height: ","px;\n  width: ","px;\n"])),(function(e){return e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),B=j.d.div(M||(M=Object(r.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  font-size: 14px;\n  font-weight: 700;\n  height: 22px;\n  justify-content: flex-start;\n"])),(function(e){return e.theme.color.grey[400]})),W=Object(p.a)({root:{backgroundColor:"white",color:"#2c2560","&:hover":{backgroundColor:"grey",color:"#2c2560"},selected:{backgroundColor:"black"}}})(v.a);t.a=function(e){var t=e.onConfirm,n=(e.onDismiss,e.tokenName),r=void 0===n?"":n,c=e.decimals,p=void 0===c?18:c,v=Object(w.a)(),j=Object(T.h)().balance,C=(Number(j)/1e18).toFixed(4).toString(),I=Object(N.a)(v.DANTE),P=Object(N.a)(v.TSHARE),S=Object(u.useState)(""),F=Object(i.a)(S,2),D=F[0],R=F[1],M=Object(u.useState)(A.a),G=Object(i.a)(M,2),L=G[0],_=G[1],H=Object(u.useState)(C),K=Object(i.a)(H,2),Z=K[0],$=K[1],q=Object(u.useState)({token0:"0",token1:"0"}),J=Object(i.a)(q,2),Y=J[0],Q=J[1],X=z(L),ee=Object(i.a)(X,2),te=ee[0],ne=ee[1],ae=Object(y.a)("DANTE-TOMB-LP"),re=Object(y.a)("GRAIL-FTM-LP"),ce=Object(u.useMemo)((function(){return ae||null}),[ae]),oe=Object(u.useMemo)((function(){return re||null}),[re]),le=r.startsWith(A.c)?null===ce||void 0===ce?void 0:ce.ftmAmount:null===oe||void 0===oe?void 0:oe.ftmAmount;var ie=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.currentTarget.value&&0!==t.currentTarget.value||(R(t.currentTarget.value),Q({token0:"0",token1:"0"})),a=t.currentTarget.value,!isNaN(parseFloat(a))&&isFinite(a)){e.next=3;break}return e.abrupt("return");case 3:return R(t.currentTarget.value),e.next=6,v.estimateZapIn(L,r,String(t.currentTarget.value));case 6:n=e.sent,Q({token0:n[0].toString(),token1:n[1].toString()});case 8:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(Z),e.next=3,v.estimateZapIn(L,r,String(Z));case 3:t=e.sent,Q({token0:t[0].toString(),token1:t[1].toString()});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(g.a,null,s.a.createElement(E.a,{text:"Zap in ".concat(r)}),s.a.createElement(m.a,{variant:"h6",align:"center"},"Powered by"," ",s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://mlnl.finance"},"mlnl.finance")),s.a.createElement(V,null),s.a.createElement(d.a,{style:{color:"#2c2560"},id:"label"},"Select asset to zap with"),s.a.createElement(f.a,{onChange:function(e){var t=e.target.value;_(t),$(C),e.target.value===A.d&&$(Object(x.b)(P,p)),e.target.value===A.c&&$(Object(x.b)(I,p))},style:{color:"#2c2560"},labelId:"label",id:"select",value:L},s.a.createElement(W,{value:A.a},"FTM"),s.a.createElement(W,{value:A.c},"TOMB"),s.a.createElement(W,{value:A.d},"TSHARE")),s.a.createElement(h.a,{onSelectMax:ue,onChange:ie,value:D,max:Z,symbol:L}),s.a.createElement(k.a,{text:"Zap Estimations"}),s.a.createElement(B,null," ",r,": ",Number(Y.token0)/Number(le)),s.a.createElement(B,null," ","(",Number(Y.token0)," ",A.a," / ",Number(Y.token1)," ",r.startsWith(A.c)?A.c:A.d,")"," "),s.a.createElement(O.a,null,s.a.createElement(b.a,{color:"primary",variant:"contained",onClick:function(){return te!==a.APPROVED?ne():t(L,r,D)}},te!==a.APPROVED?"Approve":"Let's go")),s.a.createElement(V,null),s.a.createElement(U.a,{variant:"filled",severity:"warning"},"Beta feature. Use at your own risk!"))}},796:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,r,c=n(25),o=n(0),l=n.n(o),i=n(21),u=n(69),s=i.d.button(a||(a=Object(c.a)(["\n  align-items: center;\n  // background-color: ",";\n  background-color: ",";\n  border: 0;\n  border-radius: 28px;\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-weight: 700;\n  height: 56px;\n  justify-content: center;\n  letter-spacing: 1px;\n  outline: none;\n  padding: 0;\n  margin: 0;\n  pointer-events: ",";\n  text-transform: uppercase;\n  width: 56px;\n  &:hover {\n    // background-color: ",";\n    background-color: #2c2560;\n  }\n"])),(function(e){return e.theme.color.grey[e.disabled?900:700]}),(function(e){return e.disabled?e.theme.color.grey[900]:"#571eb1"}),(function(e){return e.disabled?e.theme.color.grey[500]:e.theme.color.primary.main}),(function(e){return e.disabled?"none":void 0}),(function(e){return e.theme.color.grey[800]})),m=Object(i.d)(u.b)(r||(r=Object(c.a)(["\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ","px;\n  padding: 0 ","px;\n  text-decoration: none;\n"])),(function(e){return-e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),d=function(e){var t=e.children,n=e.disabled,a=e.onClick,r=e.to;return l.a.createElement(s,{disabled:n,onClick:a},r?l.a.createElement(m,{to:r},t):t)}},814:function(e,t,n){"use strict";var a=n(207),r=n(208);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(0)),o=(0,a(n(209)).default)(c.createElement("path",{d:"M7 2v11h3v9l7-12h-4l4-8z"}),"FlashOn");t.default=o},815:function(e,t,n){e.exports=n.p+"static/media/purgatory.0d2860b4.png"},834:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return qe}));var a,r,c,o,l,i,u,s,m,d,f,b,p,v,g,O,E=n(22),h=n(25),j=n(0),x=n.n(j),k=n(405),y=n(46),N=n(56),w=n(21),T=n(746),C=n(767),I=n(748),P=n(799),S=n(813),A=n(161),F=n(754),D=w.d.div(a||(a=Object(h.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: ","px;\n  padding-top: ","px;\n  max-width: 512px;\n  width: 100%;\n  margin: 0 auto;\n"])),(function(e){return e.theme.spacing[6]}),(function(e){return e.theme.spacing[6]})),R=w.d.h1(r||(r=Object(h.a)(["\n  color: ",";\n  font-size: 36px;\n  font-weight: 700;\n  margin: 0;\n  padding: 0;\n"])),(function(e){return e.theme.color.grey[100]})),M=w.d.h3(c||(c=Object(h.a)(["\n  color: ",";\n  font-size: 18px;\n  font-weight: 400;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n"])),(function(e){return e.theme.color.grey[400]})),z=function(e){e.icon;var t=e.subtitle,n=e.title;return x.a.createElement(D,null,x.a.createElement(R,null,n),x.a.createElement(M,null,t))},U=n(784),V=n(779),B=n(2),W=n.n(B),G=n(12),L=n(28),_=n(92),H=n(39),K=function(e,t,n){var a=Object(j.useState)(L.a.from(0)),r=Object(E.a)(a,2),c=r[0],o=r[1],l=Object(_.a)(),i=null===l||void 0===l?void 0:l.isUnlocked,u=Object(j.useCallback)(Object(G.a)(W.a.mark((function a(){var r;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.earnedFromBank(e,t,n,l.myAccount);case 2:r=a.sent,o(r);case 4:case"end":return a.stop()}}),a)}))),[e,t,n,l]);return Object(j.useEffect)((function(){if(i){u().catch((function(e){return console.error(e.stack)}));var e=setInterval(u,H.b.refreshInterval);return function(){return clearInterval(e)}}}),[i,e,l,u]),c},Z=n(773),$=function(e){var t=Object(_.a)(),n=Object(Z.a)();return{onReward:Object(j.useCallback)((function(){n(t.harvest(e.contract,e.poolId),"Claim ".concat(e.earnTokenName," from ").concat(e.contract))}),[e,t,n])}},q=n(30),J=n(163),Y=n(780),Q=n(791),X=w.d.div(o||(o=Object(h.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n"]))),ee=w.d.div(l||(l=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n  width: 100%;\n"])),(function(e){return e.theme.spacing[3]})),te=w.d.div(i||(i=Object(h.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),ne=function(e){var t=e.bank,n=K(t.contract,t.earnTokenName,t.poolId),a=$(t).onReward,r=Object(Y.a)(),c=Object(Q.a)(),o="GRAIL"===t.earnTokenName?"GRAIL":"DANTE",l="GRAIL"===t.earnTokenName?c:r,i=Object(j.useMemo)((function(){return l?Number(l.priceInDollars).toFixed(2):null}),[l]),u=(Number(i)*Number(Object(q.b)(n))).toFixed(2);return x.a.createElement(P.a,{style:{backgroundColor:"rgba(104, 76, 172, 0.9)"}},x.a.createElement(S.a,null,x.a.createElement(te,null,x.a.createElement(X,null,x.a.createElement(J.a,{symbol:t.earnToken.symbol,size:80}),x.a.createElement("span",{style:{fontSize:"28px"}},Object(q.b)(n)),x.a.createElement("span",{style:{fontSize:"16px"}},"\u2248 $".concat(u)),x.a.createElement("span",{style:{fontSize:"16px"}},"".concat(o," Earned"))),x.a.createElement(ee,null,x.a.createElement(F.a,{onClick:a,disabled:n.eq(0),color:"primary",variant:"contained"},"Claim")))))},ae=n(794),re=n(814),ce=n.n(re),oe=n(796),le=n(782),ie=n(259),ue=n(73),se=function(e){var t=Object(_.a)(),n=Object(Z.a)();return{onStake:Object(j.useCallback)((function(a){var r=Object(ue.parseUnits)(a,e.depositToken.decimal);n(t.stake(e.contract,e.poolId,r),"Stake ".concat(a," ").concat(e.depositTokenName," to ").concat(e.contract))}),[e,t,n])}},me=n(789),de=function(e,t){var n=Object(j.useState)(L.a.from(0)),a=Object(E.a)(n,2),r=a[0],c=a[1],o=Object(_.a)(),l=null===o||void 0===o?void 0:o.isUnlocked,i=Object(j.useCallback)(Object(G.a)(W.a.mark((function n(){var a;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.stakedBalanceOnBank(e,t,o.myAccount);case 2:a=n.sent,c(a);case 4:case"end":return n.stop()}}),n)}))),[e,t,o]);return Object(j.useEffect)((function(){if(l){i().catch((function(e){return console.error(e.stack)}));var e=setInterval(i,H.b.refreshInterval);return function(){return clearInterval(e)}}}),[l,e,c,o,i]),r},fe=n(792),be=n(165),pe=function(e){var t=Object(_.a)(),n=Object(Z.a)();return{onWithdraw:Object(j.useCallback)((function(a){var r=Object(ue.parseUnits)(a,e.depositToken.decimal);n(t.unstake(e.contract,e.poolId,r),"Withdraw ".concat(a," ").concat(e.depositTokenName," from ").concat(e.contract))}),[e,t,n])}},ve=n(257),ge=n(776),Oe=n(258),Ee=n(775),he=function(e){var t=e.max,n=e.decimals,a=e.onConfirm,r=(e.onDismiss,e.tokenName),c=void 0===r?"":r,o=Object(j.useState)(""),l=Object(E.a)(o,2),i=l[0],u=l[1],s=Object(j.useMemo)((function(){return Object(q.c)(t,n,!1)}),[t,n]),m=Object(j.useCallback)((function(e){u(e.currentTarget.value)}),[u]),d=Object(j.useCallback)((function(){u(s)}),[s,u]);return x.a.createElement(ve.a,null,x.a.createElement(Oe.a,{text:"Deposit ".concat(c)}),x.a.createElement(Ee.a,{value:i,onSelectMax:d,onChange:m,max:s,symbol:c}),x.a.createElement(ge.a,null,x.a.createElement(F.a,{color:"primary",variant:"contained",onClick:function(){return a(i)}},"Confirm")))},je=function(e){var t=e.onConfirm,n=(e.onDismiss,e.max),a=e.tokenName,r=void 0===a?"":a,c=e.decimals,o=void 0===c?18:c,l=Object(j.useState)(""),i=Object(E.a)(l,2),u=i[0],s=i[1],m=Object(j.useMemo)((function(){return Object(q.c)(n,o,!1)}),[n,o]),d=Object(j.useCallback)((function(e){s(e.currentTarget.value)}),[s]),f=Object(j.useCallback)((function(){s(m)}),[m,s]);return x.a.createElement(ve.a,null,x.a.createElement(Oe.a,{text:"Withdraw ".concat(r)}),x.a.createElement(Ee.a,{onSelectMax:f,onChange:d,value:u,max:m,symbol:r}),x.a.createElement(ge.a,null,x.a.createElement(F.a,{color:"primary",variant:"contained",onClick:function(){return t(u)}},"Confirm")))},xe=n(795),ke=w.d.div(u||(u=Object(h.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n"]))),ye=w.d.div(s||(s=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 0px;\n  width: 100%;\n"]))),Ne=w.d.div(m||(m=Object(h.a)(["\n  height: ","px;\n  width: ","px;\n"])),(function(e){return e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),we=w.d.div(d||(d=Object(h.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Te=function(e){var t=e.bank,n=Object(le.b)(t.depositToken,t.address),a=Object(E.a)(n,2),r=a[0],c=a[1],o=Object(j.useContext)(w.a).color,l=Object(be.a)(t.depositToken),i=de(t.contract,t.poolId),u=Object(fe.a)(t.depositTokenName,t.depositToken),s=Object(j.useMemo)((function(){return u||null}),[u]),m=(Number(s)*Number(Object(q.b)(i,t.depositToken.decimal))).toFixed(2),d=se(t).onStake,f=Object(me.a)(t).onZap,b=pe(t).onWithdraw,p=Object(ie.a)(x.a.createElement(he,{max:l,decimals:t.depositToken.decimal,onConfirm:function(e){Number(e)<=0||isNaN(Number(e))||(d(e),O())},tokenName:t.depositTokenName})),v=Object(E.a)(p,2),g=v[0],O=v[1],h=Object(ie.a)(x.a.createElement(xe.a,{decimals:t.depositToken.decimal,onConfirm:function(e,t,n){Number(n)<=0||isNaN(Number(n))||(f(e,t,n),N())},tokenName:t.depositTokenName})),k=Object(E.a)(h,2),y=k[0],N=k[1],T=Object(ie.a)(x.a.createElement(je,{max:i,decimals:t.depositToken.decimal,onConfirm:function(e){Number(e)<=0||isNaN(Number(e))||(b(e),A())},tokenName:t.depositTokenName})),C=Object(E.a)(T,2),I=C[0],A=C[1];return x.a.createElement(P.a,{style:{backgroundColor:"rgba(104, 76, 172, 0.9)"}},x.a.createElement(S.a,null,x.a.createElement(we,null,x.a.createElement(ke,null,x.a.createElement(J.a,{symbol:t.depositToken.symbol}),x.a.createElement("span",{style:{fontSize:"28px",marginTop:"0px"}},Object(q.b)(i,t.depositToken.decimal)),x.a.createElement("span",{style:{fontSize:"16px"}},"\u2248 $".concat(m)),x.a.createElement("span",{style:{fontSize:"16px"}},"".concat(t.depositTokenName," Staked"))),x.a.createElement(ye,null,r!==le.a.APPROVED?x.a.createElement(F.a,{disabled:t.closedForStaking||r===le.a.PENDING||r===le.a.UNKNOWN,onClick:c,color:"primary",variant:"contained",style:{marginTop:"20px"}},"Approve ".concat(t.depositTokenName)):x.a.createElement(x.a.Fragment,null,x.a.createElement(oe.a,{onClick:I},x.a.createElement(ae.b,null)),x.a.createElement(Ne,null),x.a.createElement(oe.a,{disabled:t.closedForStaking,onClick:function(){return t.closedForStaking?null:y()}},x.a.createElement(ce.a,{style:{color:o.grey[400]}})),x.a.createElement(Ne,null),x.a.createElement(oe.a,{disabled:t.closedForStaking,onClick:function(){return t.closedForStaking?null:g()}},x.a.createElement(ae.a,null)))))))},Ce=n(268),Ie=function(e){return Object(j.useContext)(Ce.a).banks.find((function(t){return t.contract===e}))},Pe=function(e){var t=Object(_.a)(),n=Object(j.useState)(),a=Object(E.a)(n,2),r=a[0],c=a[1],o=Object(j.useCallback)(Object(G.a)(W.a.mark((function n(){return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=c,n.next=3,t.getPoolAPRs(e);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),[t,e]);return Object(j.useEffect)((function(){o().catch((function(e){return console.error("Failed to fetch TBOND price: ".concat(e.stack))}));var e=setInterval(o,H.b.refreshInterval);return function(){return clearInterval(e)}}),[c,t,o]),r},Se=function(e){var t=Object(_.a)(),n=Object(Z.a)();return{onRedeem:Object(j.useCallback)((function(){n(t.exit(e.contract,e.poolId),"Redeem ".concat(e.contract))}),[e,t,n])}},Ae=Object(T.a)((function(e){return{gridItem:Object(N.a)({height:"100%"},e.breakpoints.up("md"),{height:"90px"}),danteBankCard:{backgroundColor:"rgba(104, 76, 172, 0.9)"}}})),Fe=function(e){var t,n,a=e.bank,r=Object(_.a)(),c=r.DANTE.address,o=r.TSHARE.address;return a.depositTokenName.includes("DANTE")?(t="TOMB-FTM pair",n="https://spookyswap.finance/add/FTM/"+c):(t="TSHARE-FTM pair",n="https://spookyswap.finance/add/FTM/"+o),x.a.createElement(P.a,{style:{backgroundColor:"rgba(104, 76, 172, 0.9)"}},x.a.createElement(S.a,null,x.a.createElement(Me,{href:n,target:"_blank"},"\ud83d\udc7b Provide liquidity for ".concat(t," now on SpookySwap \ud83d\udc7b"))))},De=function(){return x.a.createElement(Ve,null,x.a.createElement(z,{icon:"\ud83c\udfda",title:"Not Found",subtitle:"You've hit a bank just robbed by unicorns."}))},Re=w.d.div(f||(f=Object(h.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),Me=w.d.a(b||(b=Object(h.a)(["\n  font-weight: 700;\n  text-decoration: none;\n  color: ",";\n"])),(function(e){return e.theme.color.primary.main})),ze=w.d.div(p||(p=Object(h.a)(["\n  display: flex;\n  width: 600px;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n"]))),Ue=w.d.div(v||(v=Object(h.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n"]))),Ve=w.d.div(g||(g=Object(h.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n"]))),Be=function(){Object(j.useEffect)((function(){return window.scrollTo(0,0)}));var e=Ae(),t=Object(y.f)().bankId,n=Ie(t),a=Object(k.h)().account,r=Se(n).onRedeem,c=Pe(n);return a&&n?x.a.createElement(x.a.Fragment,null,x.a.createElement(C.a,null,x.a.createElement("h2",{style:{display:"table",padding:"10px",backgroundColor:"rgba(104, 76, 172, 0.9)",color:"#FFF",margin:"0px auto 40px auto"}},n.name),x.a.createElement(I.a,{container:!0,justify:"center",spacing:3,style:{marginBottom:"50px"}},x.a.createElement(I.a,{item:!0,xs:12,md:2,lg:2,className:e.gridItem},x.a.createElement(P.a,{className:"classes.gridItem",style:{backgroundColor:"rgba(104, 76, 172, 0.9)"}},x.a.createElement(S.a,{style:{textAlign:"center"}},x.a.createElement(A.a,null,"APR"),x.a.createElement(A.a,null,n.closedForStaking?"0.00":null===c||void 0===c?void 0:c.yearlyAPR,"%")))),x.a.createElement(I.a,{item:!0,xs:12,md:2,lg:2,className:e.gridItem},x.a.createElement(P.a,{className:e.gridItem,style:{backgroundColor:"rgba(104, 76, 172, 0.9)"}},x.a.createElement(S.a,{style:{textAlign:"center"}},x.a.createElement(A.a,null,"Daily APR"),x.a.createElement(A.a,null,n.closedForStaking?"0.00":null===c||void 0===c?void 0:c.dailyAPR,"%")))),x.a.createElement(I.a,{item:!0,xs:12,md:2,lg:2,className:e.gridItem},x.a.createElement(P.a,{className:e.gridItem,style:{backgroundColor:"rgba(104, 76, 172, 0.9)"}},x.a.createElement(S.a,{style:{textAlign:"center"}},x.a.createElement(A.a,null,"TVL"),x.a.createElement(A.a,null,"$",null===c||void 0===c?void 0:c.TVL)))))),x.a.createElement(C.a,{mt:5},x.a.createElement(Re,null,x.a.createElement(ze,null,x.a.createElement(Ue,null,x.a.createElement(ne,{bank:n})),x.a.createElement(U.a,null),x.a.createElement(Ue,null,x.a.createElement(Te,{bank:n}))),x.a.createElement(U.a,{size:"lg"}),n.depositTokenName.includes("LP")&&x.a.createElement(Fe,{bank:n}),x.a.createElement(U.a,{size:"lg"}),x.a.createElement("div",null,x.a.createElement(F.a,{onClick:r,color:"primary",variant:"contained"},"Claim & Withdraw")),x.a.createElement(U.a,{size:"lg"})))):n?x.a.createElement(V.a,null):x.a.createElement(De,null)},We=n(747),Ge=n(260),Le=function(e){var t=e.bank;return x.a.createElement(I.a,{item:!0,xs:12,md:4,lg:4},x.a.createElement("a",{href:"/dante-finance-gui/cemetery/".concat(t.contract)},x.a.createElement(P.a,{className:"dantePurgatoryCard",variant:"outlined"},x.a.createElement(S.a,null,x.a.createElement(C.a,{style:{position:"relative"}},x.a.createElement(C.a,{style:{position:"absolute",right:"0px",top:"-5px",height:"48px",width:"48px",alignItems:"center",display:"flex",justifyContent:"center"}},x.a.createElement(J.a,{size:64,symbol:t.depositTokenName})),x.a.createElement("h4",{style:{marginBottom:"10px"}},t.depositTokenName),x.a.createElement("h5",{style:{fontSize:"1em"}},"Deposit: ",t.depositTokenName.toUpperCase()),x.a.createElement("h5",{style:{fontSize:"1em"}},"Earn: ",t.earnTokenName),x.a.createElement("h5",{style:{fontSize:"1em"}},"Fee: 0%"))))))},_e=n(815),He=n.n(_e),Ke=function(){return[Object(j.useContext)(Ce.a).banks]},Ze=n(821),$e=Object(w.c)(O||(O=Object(h.a)(["\n  body {\n    background: url(",") no-repeat !important;\n    background-size: cover !important;\n  }\n"])),He.a),qe=function(){var e=Ke(),t=Object(E.a)(e,1)[0],n=Object(y.g)().path,a=Object(k.h)().account,r=t.filter((function(e){return!e.finished}));return x.a.createElement(y.c,null,x.a.createElement(Ge.a,null,x.a.createElement(y.a,{exact:!0,path:n},x.a.createElement($e,null),a?x.a.createElement(We.a,{maxWidth:"lg"},x.a.createElement("h2",{style:{display:"table",padding:"10px",backgroundColor:"rgba(104, 76, 172, 0.9)",color:"#FFF",margin:"0px auto 0px auto"}},"Purgatory"),x.a.createElement(C.a,{mt:5},x.a.createElement("div",{hidden:0===r.filter((function(e){return 2===e.sectionInUI})).length},x.a.createElement("h4",{style:{display:"table",padding:"10px",backgroundColor:"rgba(104, 76, 172, 0.9)",color:"#FFF",margin:"0px auto 0px auto"}},"Earn Grail by staking LP"),x.a.createElement(I.a,{container:!0,spacing:3,style:{marginTop:"10px",marginBottom:"10px"}},r.filter((function(e){return 2===e.sectionInUI})).map((function(e){return x.a.createElement(x.a.Fragment,{key:e.name},x.a.createElement(Le,{bank:e}))})))),x.a.createElement("div",{hidden:0===r.filter((function(e){return 0===e.sectionInUI})).length},x.a.createElement("h4",{style:{display:"table",padding:"10px",backgroundColor:"rgba(104, 76, 172, 0.9)",color:"#FFF",margin:"0px auto 0px auto"}},"Genesis Pools"),x.a.createElement(I.a,{container:!0,style:{marginTop:"10px"}},x.a.createElement(I.a,{item:!0,md:"3"}),x.a.createElement(I.a,{item:!0,md:"6"},x.a.createElement(Ze.a,{variant:"filled",severity:"warning"},"Pools starting at Mon, 21 Feb 2022 14:00:00 GMT and will run for 2 days with a 0.8% deposit fee. ",x.a.createElement("br",null),"Please refer to our documentation to understand our protocol's fee model.")),x.a.createElement(I.a,{item:!0,md:"3"})),x.a.createElement(I.a,{container:!0,spacing:3,style:{marginTop:"15px"}},r.filter((function(e){return 0===e.sectionInUI})).map((function(e){return x.a.createElement(x.a.Fragment,{key:e.name},x.a.createElement(Le,{bank:e}))})))))):x.a.createElement(V.a,null)),x.a.createElement(y.a,{path:"".concat(n,"/:bankId")},x.a.createElement($e,null),x.a.createElement(Be,null))))}}}]);
//# sourceMappingURL=5.dff5a969.chunk.js.map